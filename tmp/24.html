
<span style="color:#ff40ff">&lt;?php</span>
<span style="color:#ff40ff">require_once</span><span style="color:#ff40ff">(</span>'<span style="color:#ff6060">../classes/simpletest/unit_tester.php</span>'<span style="color:#ff40ff">)</span>;
<span style="color:#ff40ff">require_once</span><span style="color:#ff40ff">(</span>'<span style="color:#ff6060">../classes/simpletest/reporter.php</span>'<span style="color:#ff40ff">)</span>;
<span style="color:#ff40ff">require_once</span><span style="color:#ff40ff">(</span>'<span style="color:#ff6060">../classes/TicTacToe.php</span>'<span style="color:#ff40ff">)</span>;

<span style="color:#00ff00">class</span> TicTacTest <span style="color:#00ff00">extends</span> UnitTestCase <span style="color:#ff40ff">{</span>
        <span style="color:#ff40ff">function</span> testCheckState<span style="color:#ff40ff">(){</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span> <span style="color:#ffff00">=</span> <span style="color:#ff40ff">new</span> TicTacToe<span style="color:#ff40ff">()</span>;

                <span style="color:#8080ff">// Check to see if the checkState method exists</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#00ffff">method_exists</span><span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span>, &quot;<span style="color:#ff6060">checkState</span>&quot;<span style="color:#ff40ff">))</span>;

                <span style="color:#8080ff">// Check that the game is in progress for a new game</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertIdentical<span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>checkState<span style="color:#ff40ff">())</span>;

                <span style="color:#8080ff">// Set the X winning states and test them to see if the game is correctly detecting a win for X</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;

                <span style="color:#ffff00">foreach</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">x_winning_states</span> as <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertIdentical<span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>checkState<span style="color:#ff40ff">())</span>;
                <span style="color:#ff40ff">}</span>

                <span style="color:#8080ff">// Set the O winning states and test them to see if the game is correctly detecting a win for O</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;

                <span style="color:#ffff00">foreach</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">o_winning_states</span> as <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertIdentical<span style="color:#ff40ff">(</span><span style="color:#ff6060">-1</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>checkState<span style="color:#ff40ff">())</span>;
                <span style="color:#ff40ff">}</span>

                <span style="color:#8080ff">// Set some random states that aren't winning states and test them</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span><span style="color:#ff40ff">)</span>;

                <span style="color:#ffff00">foreach</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">states</span> as <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertIdentical<span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>checkState<span style="color:#ff40ff">())</span>;
                <span style="color:#ff40ff">}</span>

                <span style="color:#8080ff">// Set up a board that is a draw</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">draw_states</span><span style="color:#ff40ff">[]</span> <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">-1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">1</span><span style="color:#ff40ff">)</span>;

                <span style="color:#ffff00">foreach</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">draw_states</span> as <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertIdentical<span style="color:#ff40ff">(</span><span style="color:#ff6060">2</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>checkState<span style="color:#ff40ff">())</span>;
                <span style="color:#ff40ff">}</span>
        <span style="color:#ff40ff">}</span>

        <span style="color:#ff40ff">function</span> testValidMove<span style="color:#ff40ff">(){</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span> <span style="color:#ffff00">=</span> <span style="color:#ff40ff">new</span> TicTacToe<span style="color:#ff40ff">()</span>;

                <span style="color:#8080ff">// Check to see if the validMove method exists</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#00ffff">method_exists</span><span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span>, &quot;<span style="color:#ff6060">validMove</span>&quot;<span style="color:#ff40ff">))</span>;

                <span style="color:#8080ff">// Check that we can move into any space in a new game</span>
                <span style="color:#ffff00">for</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span> <span style="color:#ffff00">=</span> <span style="color:#ff6060">0</span>; <span style="color:#ffff00">$</span><span style="color:#00ffff">i</span> <span style="color:#ffff00">&lt;</span> <span style="color:#ff6060">9</span>; <span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ffff00">++</span><span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>validMove<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">))</span>;
                <span style="color:#ff40ff">}</span>

                <span style="color:#8080ff">// Check to see if invalid moves return false and valid moves return true</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board <span style="color:#ffff00">=</span> <span style="color:#00ff00">array</span><span style="color:#ff40ff">(</span><span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span>,<span style="color:#ff6060">0</span>,<span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                <span style="color:#ffff00">foreach</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board as <span style="color:#ffff00">$</span><span style="color:#00ffff">space</span> <span style="color:#ffff00">=</span><span style="color:#ffff00">&gt;</span> <span style="color:#ffff00">$</span><span style="color:#00ffff">player</span><span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">switch</span><span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">player</span><span style="color:#ff40ff">){</span>
                                <span style="color:#ffff00">case</span> <span style="color:#ff6060">0</span><span style="color:#ffff00">:</span>
                                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>validMove<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">space</span><span style="color:#ff40ff">))</span>;
                                        <span style="color:#ffff00">break</span>;

                                <span style="color:#ffff00">default</span><span style="color:#ffff00">:</span>
                                        <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertFalse<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>validMove<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">space</span><span style="color:#ff40ff">))</span>;
                                        <span style="color:#ffff00">break</span>;
                        <span style="color:#ff40ff">}</span>
                <span style="color:#ff40ff">}</span>
        <span style="color:#ff40ff">}</span>

        <span style="color:#ff40ff">function</span> testTakeTurn<span style="color:#ff40ff">(){</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span> <span style="color:#ffff00">=</span> <span style="color:#ff40ff">new</span> TicTacToe<span style="color:#ff40ff">()</span>;

                <span style="color:#8080ff">// Check to see if the turn is set</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#00ffff">isset</span><span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>turn<span style="color:#ff40ff">))</span>;
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertEqual<span style="color:#ff40ff">(</span><span style="color:#ff6060">1</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>turn<span style="color:#ff40ff">)</span>;

                <span style="color:#8080ff">// Check to see if the method exists</span>
                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#00ffff">method_exists</span><span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span>, '<span style="color:#ff6060">takeTurn</span>'<span style="color:#ff40ff">))</span>;

                <span style="color:#8080ff">// We should be able to take a turn on a valid space and have it </span>
                <span style="color:#8080ff">// return true, as well as switch to the other player and add the </span>
                <span style="color:#8080ff">// player to the space they take</span>
                <span style="color:#ffff00">for</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span> <span style="color:#ffff00">=</span> <span style="color:#ff6060">0</span>; <span style="color:#ffff00">$</span><span style="color:#00ffff">i</span> <span style="color:#ffff00">&lt;</span> <span style="color:#ff6060">9</span>; <span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ffff00">++</span><span style="color:#ff40ff">){</span>
                        <span style="color:#ffff00">$</span><span style="color:#00ffff">turn</span> <span style="color:#ffff00">=</span> <span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>turn;
                        <span style="color:#ffff00">if</span> <span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>validMove<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">)){</span>
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertTrue<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>takeTurn<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">))</span>;
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertEqual<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">[</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">]</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">turn</span><span style="color:#ff40ff">)</span>;
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertEqual<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>turn, <span style="color:#ffff00">$</span><span style="color:#00ffff">turn</span> <span style="color:#ffff00">*</span> <span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                        <span style="color:#ff40ff">}</span> <span style="color:#ffff00">else</span> <span style="color:#ff40ff">{</span>
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertFalse<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>takeTurn<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">))</span>;
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertEqual<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>board<span style="color:#ff40ff">[</span><span style="color:#ffff00">$</span><span style="color:#00ffff">i</span><span style="color:#ff40ff">]</span>, <span style="color:#ffff00">$</span><span style="color:#00ffff">turn</span> <span style="color:#ffff00">*</span> <span style="color:#ff6060">-1</span><span style="color:#ff40ff">)</span>;
                                <span style="color:#ffff00">$</span><span style="color:#00ffff">this</span><span style="color:#00ff00">-&gt;</span>assertEqual<span style="color:#ff40ff">(</span><span style="color:#ffff00">$</span><span style="color:#00ffff">game</span><span style="color:#00ff00">-&gt;</span>turn, <span style="color:#ffff00">$</span><span style="color:#00ffff">turn</span><span style="color:#ff40ff">)</span>;
                        <span style="color:#ff40ff">}</span>
                <span style="color:#ff40ff">}</span>
        <span style="color:#ff40ff">}</span>
<span style="color:#ff40ff">}</span>

<span style="color:#ffff00">$</span><span style="color:#00ffff">test</span> <span style="color:#ffff00">=</span> <span style="color:#ff40ff">new</span> TicTacTest<span style="color:#ff40ff">()</span>;
<span style="color:#ffff00">$</span><span style="color:#00ffff">test</span><span style="color:#00ff00">-&gt;</span>run<span style="color:#ff40ff">(</span><span style="color:#ff40ff">new</span> TextReporter<span style="color:#ff40ff">())</span>;
<span style="color:#ff40ff">?&gt;</span>
